<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >

<!--head-->
    <head>

        <!--Required meta tags -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>뉴스피스</title>

        <!-- css/fonts -->
        <link rel="stylesheet"  th:href="@{/css/common.css}">
        <link rel="preconnect" th:href="@{https://fonts.gstatic.com}">
        <!--favicon.ico-->
        <link rel="icon" href="data:;base64,=">

        <!-- core Bootstrap CSS -->
        <link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.css}">
        <!-- Custom Bootstrap CSS -->
        <link rel="stylesheet" type="text/css" th:href="@{/css/bootstrapCustom.css}">

        <!-- jQuery -->
        <script type="text/javascript" th:src="@{/js/jquery-3.7.1.js}"></script>

        <!-- slim build, which excludes the ajax and effects modules -->
<!--        <script src="https://code.jquery.com/jquery-3.7.0.min.js"
                integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>-->
        <!-- cookie  -->
        <script type="text/javascript" th:href=|"https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"|></script>
    </head>

    <!--body-->
    <body>
        <!-- nav -->
        <div th:replace="~{common/fragments/nav :: navFragment}"></div>

        <!--content -->
        <th:block layout:fragment="content">
            <!--jwt 현재 페이지에서 사용할 수 있는 변수 :: principal-->
<!--            <sec:authorize access="isAuthenticated()">-->
<!--                <sec:authentication property="principal" var="principal" />-->
<!--            </sec:authorize>-->

            <sec:authorize access="isAuthenticated()">
                <div>${principal.name}님</div>
                <div>${principal.authorities}</div>
            </sec:authorize>

            <div sec:authorize="hasRole('ROLE_ADMIN')">
                관리자
            </div>
            <sec:authorize access="hasAuthority('ADMIN') or hasAuthority('USER')"><a href="/user/info">내정보</a></sec:authorize><br>
            <sec:authorize access="hasAuthority('USER')"><a href="/user/admin">admin</a></sec:authorize><br>

            <a href="/">메인으로 이동</a>

            <div id="fragment-content"></div>
        </th:block>

        <!-- footer  -->
        <th:block th:if="${'footer' == 'no'}">
            <div th:replace="~{common/fragments/footer :: footerFragment}"></div>
        </th:block>

        <!--common JS start-->
        <!--jQuery first, then Popper.js, then Bootstrap JS -->
        <script type="text/javascript"  src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script type="text/javascript" th:src="@{/js/bootstrap.bundle.js}"></script>


        <!--common JS end-->
    </body>
</html>