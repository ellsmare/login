<html layout:decorate="~{common/layouts/layout}" xmlns:layout="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <!--css/js PageByPage start-->
    <th:block layout:fragment="cssByPage">
        <link rel="stylesheet"  type="text/css"  th:href="@{/css/article.css}">
    </th:block>
    <!--css/js PageByPage end-->
</head>

<!-- Content -->
<th:block layout:fragment="content">
    <div id="summernote"></div>
    <script>
        $('.summernote').summernote({
            tabsize: 2,
            height: 300
        });
    </script>
    <div class="content-body">
    <h1> 글 목록에서 회원만 글 상세 확인가능 </h1>
    <h1> 글 상세에서 작성자만 글 수정/삭제가능 </h1>
    <div class="container">
        <form>
<!--        <form action="users/article" method="post">-->
<!--      자동생성?      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />-->
<!--            <input type="hidden" name="pageNum" value="${pageNum}">-->
<!--            <input type="hidden" name="articleNumber" value="${article.articleNumber}">-->
            <div class="form-group">
                <label for="title">Title</label>
                <input type="title" id="title" name="title" value="${article.title}"
                       class="form-control" aria-describedby="basic-addon1">
            </div>
            <div class="form-group">
                <label for="comment">Comment</label>
                <textarea class="form-control summernote" rows="5" id="comment" name="content" >${article.content}</textarea>
            </div>

            <div class="btn-group btn-group-sm" role="group" aria-label="...">
                <input type="submit" class="btn btn-default" value="글쓰기">
                <input type="submit" class="btn btn-default" value="수정하기">
                <input type="button" class="btn btn-default" value="취소" onclick="document.location.href='/bbs/content.bbs?articleNumber=${articleNumber}&pageNum=${pageNum}'">
<!--                <input type="button" class="btn btn-default" value="취소" onclick="document.location.href='/bbs/content.bbs?articleNumber=${articleNumber}&pageNum=${pageNum}'">-->
            </div>
        </form>

                    <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th width="30%">글쓴이</th>
                            <td width="70%">${id}</td>
                        </tr>
                        <tr>
                            <th style="padding-top: 15px">제목</th>
                            <td></td>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th style="padding-top: 15px">첨부파일</th>
                            <td><input type="file" class="btn btn-default" name="fileName"></td>
                        </tr>
                        </tbody>
                    </table>
    </div>
    </div>
</th:block>

<th:block layout:fragment="jsByPage">

<!--    <script>-->
<!--        jQuery(document).ready(function() {-->
<!--            if(${id== null}) {-->
<!--                alert("게시판을 이용하시려면 로그인하셔야 합니다.");-->
<!--                location.href="/bbs/login.bbs"-->
<!--            }-->
<!--        });-->
<!--    </script>-->
</th:block>
</html>


<!--회원가입 상태코드,메세지-->
<!--<p th:text="${/}"></p>-->
<!--<p th:text="${/}"></p>-->
<!--표현식: <div th:[속성]=”서버에서 받는 값 및 조건식”/>   validatorResult.put(validKeyName, error.getDefaultMessage());-->


<!--<script>-->
<!--    &lt;!&ndash; 유효성 검사기능 추가&ndash;&gt;-->
<!--    // HTML의 <form>은 입력 필드 요소가 required 속성을 가지고 있으면 자동으로 유효성을 검사-->
<!--    // <form>에 novalidate 속성을 설정-->
<!--    window.addEventListener('load', () => {-->
<!--        const forms = do                            cument.getElementsByClassName('validation-form');-->

<!--        Array.prototype.filter.call(forms, (form) => {-->
<!--            form.addEventListener('submit', function (event) {-->
<!--                if (form.checkValidity() === false) {-->
<!--                    event.preventDefault();-->
<!--                    event.stopPropagation();-->
<!--                }-->

<!--                form.classList.add('was-validated');-->
<!--            }, false);-->
<!--        });-->
<!--    }, false);-->
<!--</script>-->

<!--
   <script>
        function onclickAdmin() {
            // Get the checkbox
            var checkBox = document.getElementById("admin-check");
            // Get the output text
            var box = document.getElementById("admin-token");

            // If the checkbox is checked, display the output text
            if (checkBox.checked == true){
                box.style.display = "block";
            } else {
                box.style.display = "none";
            }
        }
    </script>
모든 요청은 디스패처 서블릿(프론트 컨트롤러)을 통해 컨트롤러로 전달
전달 과정은 ArgumentResolver,  @Valid도 처리-유효성 검사를 진행
검증에 오류가 있다면 400 BadRequest 에러가 발생
@Valid는 기본적으로 컨트롤러에서만 동작
출처: https://mangkyu.tistory.com/174 [MangKyu's Diary:티스토리]

-->


<!--    <div id="login-form">-->
<!--    <div id="login-failed" style="display: none" class="alert alert-danger" role="alert">로그인에 실패하였습니다.</div>-->
<!--</div>-->
<!--    <div id="login-title">Login</div>-->
<!--    <br>-->
<!--    </div>-->
<!--    <br>-->
<!--    <button id="login-id-btn" onclick="location.href='/users/signUp'">-->
<!--        로그인 페이지-->
<!--    </button>-->

<!--로그인 상태코드,메세지-->
<!--<p th:text="${/}"></p>-->
<!--<p th:text="${/}"></p>-->
<!--<script>-->
<!--    const href = location.href;-->
<!--    const queryString = href.substring(href.indexOf("?")+1)-->
<!--    if (queryString === 'error') {-->
<!--        const errorDiv = document.getElementById('login-failed');-->
<!--        errorDiv.style.display = 'block';-->
<!--    }-->
<!--</script>-->


<!--타임리프 인라인 작성 방법 -->
<!--    <h1>[[${haha}]]            [[${haha}]]        </h1>-->

<!--thymeleaf-extras-springsecurity6-->
<!--출처: https://luvstudy.tistory.com/227 [파란하늘의 지식창고:티스토리]-->

<!--//ROLE_ADMIN 권한이 있는 경우만 표시됨-->
<!--<li sec:authorize="hasRole('ROLE_ADMIN')"><a th:href="@{/admin}">관리자 페이지</a></li>-->

<!--//ROLE_USER 권한이 있는 경우만 표시됨-->
<!--<li sec:authorize="hasRole('ROLE_USER')"><a th:href="@{/books}">책 목록</a></li>-->

<!--//로그인이 되지 않은 경우 표시-->
<!--<li sec:authorize="!isAuthenticated()"><a th:href="@{/users}">회원가입</a></li>-->

<!--//로그인 된 경우의 username을 출력-->
<!--<li sec:authorize="isAuthenticated()"><span sec:authentication="principal.username"></span></li>-->

<!--//변수처럼 사용하고 싶은 경우-->
<!--<a th:href="@{'/users/'+ ${#authentication.principal.id}}">마이페이지</a>-->